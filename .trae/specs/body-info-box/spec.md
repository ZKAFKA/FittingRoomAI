# 身体信息框功能 - 产品需求文档

## Overview
- **Summary**: 在小程序的试衣页面中，为上传人像照片的区域右下角添加一个身体信息框，只有当上传人像后才会显示出来。身体信息框显示用户的身高、体重和性别，点击后可以跳出弹窗修改本次试衣的身体数据（不改变profile页面的用户身体信息数据）。
- **Purpose**: 让用户在试衣前能够方便地查看和修改身体数据，提高试衣效果的准确性，同时保持界面的简洁和美观。
- **Target Users**: 使用小程序进行虚拟试衣的所有用户。

## Goals
- 在上传人像照片的区域右下角添加一个身体信息框
- 身体信息框仅在上传人像后显示，未上传人像时不显示
- 身体信息框默认数据从profile页面的身体数据获取，显示格式为"身高/体重 性别"
- 点击身体信息框可以跳出弹窗，修改本次试衣的身体数据
- 试衣页面的修改不会上传至用户身体信息数据库，仅作为后续填充prompt使用
- 身体信息框样式与背景颜色和小程序整体风格保持一致，考虑毛玻璃特效、边缘弥散光等设计

## Non-Goals (Out of Scope)
- 修改profile页面的body-info-editor组件
- 修改profile页面的用户身体信息数据存储逻辑
- 添加新的身体数据类型
- 修改上传人像照片的核心功能

## Background & Context
- 当前试衣页面有一个上传人像照片的区域
- Profile页面有一个body-info-editor组件，用于编辑用户的身体信息
- 试衣页面需要使用身体数据来生成更准确的试衣效果

## Functional Requirements
- **FR-1**: 在上传人像照片的区域右下角添加身体信息框
- **FR-2**: 身体信息框仅在上传人像后显示，未上传人像时不显示
- **FR-3**: 身体信息框默认数据从profile页面的身体数据获取
- **FR-4**: 身体信息框显示格式为"身高/体重 性别"
- **FR-5**: 点击身体信息框可以跳出弹窗，修改本次试衣的身体数据
- **FR-6**: 试衣页面的修改不会上传至用户身体信息数据库，仅作为后续填充prompt使用

## Non-Functional Requirements
- **NFR-1**: 身体信息框样式与背景颜色和小程序整体风格保持一致
- **NFR-2**: 可以考虑毛玻璃特效、边缘弥散光等设计
- **NFR-3**: 身体信息框的显示和隐藏应该有平滑的过渡效果
- **NFR-4**: 弹窗的样式与profile页面的body-info-editor一致
- **NFR-5**: 确保在不同设备上都能呈现一致的视觉体验

## Constraints
- **Technical**: 基于微信小程序的现有组件和API实现
- **Dependencies**: 依赖现有的上传人像功能和profile页面的body-info-editor组件

## Assumptions
- 用户已经在profile页面设置了身体信息
- 上传人像的功能已经实现
- profile页面的body-info-editor组件可以被复用或参考

## Acceptance Criteria

### AC-1: 身体信息框显示条件
- **Given**: 用户未上传人像照片
- **When**: 查看试衣页面
- **Then**: 身体信息框不显示
- **Verification**: `human-judgment`

### AC-2: 身体信息框显示内容
- **Given**: 用户已上传人像照片
- **When**: 查看试衣页面
- **Then**: 身体信息框显示在上传人像区域的右下角，显示格式为"身高/体重 性别"
- **Verification**: `human-judgment`

### AC-3: 身体信息框默认数据
- **Given**: 用户已上传人像照片
- **When**: 查看身体信息框
- **Then**: 身体信息框显示的数据与profile页面的身体数据一致
- **Verification**: `human-judgment`

### AC-4: 点击身体信息框弹出修改弹窗
- **Given**: 用户已上传人像照片
- **When**: 点击身体信息框
- **Then**: 弹出修改身体数据的弹窗，样式与profile页面的body-info-editor一致
- **Verification**: `human-judgment`

### AC-5: 修改身体数据
- **Given**: 用户已上传人像照片并点击了身体信息框
- **When**: 在弹窗中修改身体数据并确认
- **Then**: 身体信息框显示修改后的数据，且修改不会上传至用户身体信息数据库
- **Verification**: `human-judgment`

### AC-6: 身体信息框样式
- **Given**: 用户已上传人像照片
- **When**: 查看身体信息框
- **Then**: 身体信息框样式与背景颜色和小程序整体风格保持一致，具有毛玻璃特效和边缘弥散光等设计
- **Verification**: `human-judgment`

### AC-7: 响应式显示
- **Given**: 用户在不同尺寸的设备上打开小程序
- **When**: 上传人像照片并查看身体信息框
- **Then**: 身体信息框在不同设备上保持一致的显示效果
- **Verification**: `human-judgment`

## Open Questions
- [ ] 身体信息框的具体尺寸和位置需要根据实际页面布局进行调整
- [ ] 身体信息框的样式细节需要根据整体设计风格进行优化