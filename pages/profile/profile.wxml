<view class="page">
  <!-- Header -->
  <view class="header">
    <view class="relative">
      <view class="avatar-container">
        <image class="avatar" src="{{userInfo.avatarUrl && userInfo.avatarUrl !== '' ? userInfo.avatarUrl : defaultAvatarUrl}}" mode="aspectFill"></image>
      </view>
      <view class="edit-avatar-btn" bindtap="showEditAvatar">
        <text class="edit-icon">‚úèÔ∏è</text>
      </view>
    </view>
    <view class="user-info">
      <view class="user-name">{{userInfo.nickName || 'ÂæÆ‰ø°Áî®Êà∑'}}</view>
    </view>
  </view>

  <!-- Body Profile Section -->
  <view class="body-profile-section">
    <view class="body-profile-card" bindtap="showEditBodyInfo">
      <view class="profile-content">
        <view class="profile-item">
          <view class="profile-label">HEIGHT</view>
          <view class="profile-value">{{userInfo.height || '173'}}<text class="unit">cm</text></view>
        </view>
        <view class="profile-divider"></view>
        <view class="profile-item">
          <view class="profile-label">WEIGHT</view>
          <view class="profile-value">{{userInfo.weight || '60'}}<text class="unit">kg</text></view>
        </view>
        <view class="profile-divider"></view>
        <view class="profile-item">
          <view class="profile-label">GENDER</view>
          <view class="profile-value">{{userInfo.gender || 'Female'}}</view>
        </view>
      </view>
    </view>
  </view>

  <!-- Featured Grid -->
  <view class="featured-grid">
    <view class="featured-card wardrobe-card" bindtap="navigateToWardrobe">
      <view class="card-gradient"></view>
      <image class="card-image" src="cloud://fittingroom-0g0zcm3w1d2f40c5.6669-fittingroom-0g0zcm3w1d2f40c5-1400377926/system-images/wardrobe.png" mode="aspectFill" />
      <view class="card-content">
        <image class="card-icon" src="/assets/icons/hanger.png"></image>
        <view class="card-info">
          <text class="card-title">ÊàëÁöÑË°£Ê©±</text>
          <text class="card-subtitle">24 ‰ª∂ÊúçË£Ö</text>
        </view>
      </view>
    </view>
    <view class="featured-card history-card" bindtap="navigateToHistory">
      <view class="card-gradient primary-gradient"></view>
      <image class="card-image" src="cloud://fittingroom-0g0zcm3w1d2f40c5.6669-fittingroom-0g0zcm3w1d2f40c5-1400377926/system-images/history.png" mode="aspectFill" />
      <view class="card-content">
        <image class="card-icon" src="/assets/icons/history.png"></image>
        <view class="card-info">
          <text class="card-title">ËØïË°£ËÆ∞ÂΩï</text>
          <text class="card-subtitle">128 Ê¨°ËØïË°£</text>
        </view>
      </view>
    </view>
  </view>

  <!-- Menu List -->
  <view class="menu-section">
    <view class="menu-list">
      <view class="menu-item" bindtap="navigateToSettings">
        <view class="menu-item-left">
          <view class="menu-icon-bg">
            <text class="menu-icon">‚öôÔ∏è</text>
          </view>
          <text class="menu-label">ËÆæÁΩÆ</text>
        </view>
        <view class="menu-chevron">‚Ä∫</view>
      </view>
      <view class="menu-item" bindtap="navigateToAbout">
        <view class="menu-item-left">
          <view class="menu-icon-bg">
            <text class="menu-icon">‚ÑπÔ∏è</text>
          </view>
          <text class="menu-label">ÂÖ≥‰∫éÊàë‰ª¨</text>
        </view>
        <view class="menu-chevron">‚Ä∫</view>
      </view>
      <view class="menu-item" bindtap="navigateToFeedback">
        <view class="menu-item-left">
          <view class="menu-icon-bg">
            <text class="menu-icon">üí¨</text>
          </view>
          <text class="menu-label">ÂèçÈ¶àÂª∫ËÆÆ</text>
        </view>
        <view class="menu-chevron">‚Ä∫</view>
      </view>
    </view>
  </view>

  <!-- Ë∫´È´ò‰ΩìÈáçÁºñËæëÁªÑ‰ª∂ -->
  <body-info-editor 
    visible="{{showBodyInfoEditor}}" 
    height="{{userInfo.height}}" 
    weight="{{userInfo.weight}}" 
    gender="{{userInfo.gender}}"
    bind:confirm="handleBodyInfoConfirm" 
    bind:cancel="handleBodyInfoCancel" 
  />
</view>